================================================================================
  üö® GIT FORCE PUSH ERFORDERLICH - WICHTIGE ANWEISUNGEN üö®
================================================================================

Die Git-History wurde lokal bereinigt, um sensible Credentials zu entfernen.
Um die √Ñnderungen auf GitHub zu √ºbertragen, muss ein FORCE PUSH durchgef√ºhrt werden.

‚ö†Ô∏è  WARNUNG: Force Push √ºberschreibt die Remote-History!
‚ö†Ô∏è  Alle Collaborators m√ºssen danach das Repository neu clonen!

================================================================================
SCHRITT 1: PR√úFUNG VOR DEM PUSH
================================================================================

1. Verifiziere dass .env aus History entfernt wurde:
   
   git log --all --full-history -- .env
   
   ‚ûú Sollte KEINE Ergebnisse liefern

2. Verifiziere dass alte Secrets weg sind:
   
   git log --all -S "d1fe1fb898462381e0b42d295d3960fd"
   
   ‚ûú Sollte KEINE Ergebnisse liefern

3. Pr√ºfe Anzahl der Commits:
   
   git log --oneline | wc -l
   
   ‚ûú Sollte 25 Commits zeigen (vorher: 26)

================================================================================
SCHRITT 2: FORCE PUSH DURCHF√úHREN
================================================================================

F√ºhre folgende Befehle aus:

# Push alle Branches mit Force
git push origin --force --all

# Push alle Tags mit Force
git push origin --force --tags

================================================================================
SCHRITT 3: NACH DEM PUSH
================================================================================

1. GitHub-Repository pr√ºfen:
   - Gehe zu: https://github.com/datafist/ChefOfTheDay
   - Pr√ºfe ob der neueste Commit "fix: Update domain references..." ist
   - Commit-Hash sollte sein: 728939b

2. Informiere alle Collaborators (falls vorhanden):
   - Sie M√úSSEN das Repository neu clonen
   - Oder: git fetch origin && git reset --hard origin/main

3. Pr√ºfe ob alte .env noch auf Remote zu finden ist:
   - GitHub ‚Üí Repository ‚Üí History durchsuchen
   - Suche nach ".env" ‚Üí sollte nicht mehr auftauchen

================================================================================
SCHRITT 4: LOKALE DATENBANK AKTUALISIEREN
================================================================================

Da die MySQL-Passw√∂rter ge√§ndert wurden:

# Option 1: Container neu erstellen mit neuen Credentials
docker compose -f docker-compose.dev.yaml down -v
docker compose -f docker-compose.dev.yaml up -d

# Option 2: In laufender MySQL-Datenbank Passwort √§ndern
docker compose -f docker-compose.dev.yaml exec database mysql -uroot -proot
> ALTER USER 'root'@'localhost' IDENTIFIED BY '3whgTeTUACVWpHMeUvpKeTqUbixvMM48';
> ALTER USER 'kochdienst'@'%' IDENTIFIED BY '2nTwu2TS4Qpa3w/7FhjKOdrCHWzF+LML';
> FLUSH PRIVILEGES;
> EXIT;

================================================================================
SCHRITT 5: ADMIN-PASSWORT √ÑNDERN
================================================================================

php bin/console app:setup-admin

W√§hle ein sicheres Passwort (NICHT "admin123")!

================================================================================
BACKUP-WIEDERHERSTELLUNG (Falls etwas schief geht)
================================================================================

Falls du die √Ñnderungen r√ºckg√§ngig machen musst:

# Zur√ºck zur alten History (VOR der Bereinigung)
git reset --hard backup-before-cleanup-20260107-193058

# Backup-Tag entfernen
git tag -d backup-before-cleanup-20260107-193058

================================================================================
ZUSAMMENFASSUNG
================================================================================

‚úÖ Durchgef√ºhrt:
   - Git-History bereinigt (.env entfernt)
   - Neue sichere Credentials generiert
   - Sicherheitswarnungen in Dokumentation eingef√ºgt
   - SECURITY_NOTICE.md erstellt
   - Backup-Tag erstellt

‚è≥ Noch zu tun:
   1. Force Push auf GitHub (siehe SCHRITT 2 oben)
   2. Datenbank-Credentials aktualisieren
   3. Admin-Passwort √§ndern
   4. Ggf. Collaborators informieren

üìÑ Dokumentation:
   - SECURITY_NOTICE.md ‚Üí Details zur Bereinigung
   - DEPLOYMENT.md ‚Üí Production-Setup
   - README.md ‚Üí Lokale Entwicklung

================================================================================
